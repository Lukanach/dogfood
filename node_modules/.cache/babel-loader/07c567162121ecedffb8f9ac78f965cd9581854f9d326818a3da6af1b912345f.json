{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { initState } from '../initState';\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: initState.cart,\n  reducers: {\n    cartInitialize(state, action) {\n      return action.payload;\n    },\n    addCurrentProduct: {\n      reducer(state, action) {\n        const currentProduct = state.find(product => product.id === action.payload.id);\n        if (!currentProduct) state.unshift(action.payload);\n      },\n      prepare(id) {\n        return {\n          payload: {\n            id,\n            isPicked: true,\n            count: 1\n          }\n        };\n      }\n    },\n    changeIsPickProduct(state, action) {\n      const currentProduct = state.find(product => product.id === action.payload);\n      if (currentProduct) currentProduct.isPicked = !currentProduct.isPicked;\n    },\n    addAllProductsInCart(state) {\n      return state.map(product => ({\n        ...product,\n        isPicked: true\n      }));\n    },\n    notAddAllProductsInCart(state) {\n      return state.map(product => ({\n        ...product,\n        isPicked: false\n      }));\n    },\n    productIncrement(state, action) {\n      return state.map(product => {\n        if (product.id === action.payload) {\n          return {\n            ...product,\n            count: product.count + 1\n          };\n        }\n        return product;\n      });\n    },\n    productDecrement(state, action) {\n      return state.map(product => {\n        if (product.id === action.payload) {\n          return {\n            ...product,\n            count: product.count - 1\n          };\n        }\n        return product;\n      });\n    },\n    deleteProduct(state, action) {\n      return state.filter(product => product.id !== action.payload);\n    },\n    clearCart() {\n      return [];\n    }\n  }\n});\nexport const {\n  changeIsPickProduct,\n  deleteProduct,\n  clearCart,\n  addCurrentProduct,\n  notAddAllProductsInCart,\n  productDecrement,\n  productIncrement,\n  addAllProductsInCart,\n  cartInitialize\n} = cartSlice.actions;\nexport const getAllCartProductsSelector = state => state.cart;\nexport const cartReducer = cartSlice.reducer;","map":{"version":3,"names":["createSlice","initState","cartSlice","name","initialState","cart","reducers","cartInitialize","state","action","payload","addCurrentProduct","reducer","currentProduct","find","product","id","unshift","prepare","isPicked","count","changeIsPickProduct","addAllProductsInCart","map","notAddAllProductsInCart","productIncrement","productDecrement","deleteProduct","filter","clearCart","actions","getAllCartProductsSelector","cartReducer"],"sources":["/home/il/Документы/Sberuni/dogfood2/src/redux/slices/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport { initState } from '../initState'\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: initState.cart,\n  reducers: {\n    cartInitialize(state, action) {\n      return action.payload\n    },\n    addCurrentProduct: {\n      reducer(state, action) {\n        const currentProduct = state.find((product) => product.id === action.payload.id)\n        if (!currentProduct) state.unshift(action.payload)\n      },\n      prepare(id) {\n        return {\n          payload: {\n            id,\n            isPicked: true,\n            count: 1,\n          },\n\n        }\n      },\n    },\n    changeIsPickProduct(state, action) {\n      const currentProduct = state.find((product) => product.id === action.payload)\n      if (currentProduct) currentProduct.isPicked = !currentProduct.isPicked\n    },\n    addAllProductsInCart(state) {\n      return state.map((product) => ({\n        ...product,\n        isPicked: true,\n      }))\n    },\n    notAddAllProductsInCart(state) {\n      return state.map((product) => ({\n        ...product,\n        isPicked: false,\n      }))\n    },\n    productIncrement(state, action) {\n      return state.map((product) => {\n        if (product.id === action.payload) {\n          return {\n            ...product,\n            count: product.count + 1,\n          }\n        }\n        return product\n      })\n    },\n    productDecrement(state, action) {\n      return state.map((product) => {\n        if (product.id === action.payload) {\n          return {\n            ...product,\n            count: product.count - 1,\n          }\n        }\n        return product\n      })\n    },\n    deleteProduct(state, action) {\n      return state.filter((product) => product.id !== action.payload)\n    },\n    clearCart() {\n      return []\n    },\n  },\n})\n\nexport const {\n  changeIsPickProduct, deleteProduct, clearCart, addCurrentProduct, notAddAllProductsInCart,\n  productDecrement, productIncrement, addAllProductsInCart, cartInitialize,\n} = cartSlice.actions\nexport const getAllCartProductsSelector = (state) => state.cart\nexport const cartReducer = cartSlice.reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}