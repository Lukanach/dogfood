{"ast":null,"code":"import { configureStore } from '@reduxjs/toolkit';\nimport { REDUX_CART_LS_KEY, REDUX_LS_KEY } from './constants';\nimport { getInitState } from './initState';\nimport { cartReducer } from './slices/cartSlice';\nimport { favoriteReducer } from './slices/favorite';\nimport { filterReducer } from './slices/filterSlice';\nimport { userReducer } from './slices/userSlice';\nexport const store = configureStore({\n  reducer: {\n    user: userReducer,\n    cart: cartReducer,\n    filter: filterReducer,\n    favorites: favoriteReducer\n  },\n  preloadedState: getInitState()\n});\nstore.subscribe(() => {\n  const currentState = store.getState();\n  window.localStorage.setItem(REDUX_LS_KEY, JSON.stringify(currentState));\n});\nstore.subscribe(() => {\n  const cartsFromLS = window.localStorage.getItem(REDUX_CART_LS_KEY);\n  const currentState = store.getState();\n  const parsedCartsFromLS = cartsFromLS ? JSON.parse(cartsFromLS) : {};\n  if (currentState.user.id) {\n    window.localStorage.setItem(REDUX_CART_LS_KEY, JSON.stringify({\n      ...parsedCartsFromLS,\n      [currentState.user.id]: currentState.cart\n    }));\n  }\n});","map":{"version":3,"names":["configureStore","REDUX_CART_LS_KEY","REDUX_LS_KEY","getInitState","cartReducer","favoriteReducer","filterReducer","userReducer","store","reducer","user","cart","filter","favorites","preloadedState","subscribe","currentState","getState","window","localStorage","setItem","JSON","stringify","cartsFromLS","getItem","parsedCartsFromLS","parse","id"],"sources":["/home/il/Документы/Sberuni/dogfood2/src/redux/store.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit'\nimport { REDUX_CART_LS_KEY, REDUX_LS_KEY } from './constants'\nimport { getInitState } from './initState'\nimport { cartReducer } from './slices/cartSlice'\nimport { favoriteReducer } from './slices/favorite'\nimport { filterReducer } from './slices/filterSlice'\nimport { userReducer } from './slices/userSlice'\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer,\n    cart: cartReducer,\n    filter: filterReducer,\n    favorites: favoriteReducer,\n  },\n  preloadedState: getInitState(),\n})\n\nstore.subscribe(() => {\n  const currentState = store.getState()\n\n  window.localStorage.setItem(REDUX_LS_KEY, JSON.stringify(currentState))\n})\n\nstore.subscribe(() => {\n  const cartsFromLS = window.localStorage.getItem(REDUX_CART_LS_KEY)\n  const currentState = store.getState()\n\n  const parsedCartsFromLS = cartsFromLS ? JSON.parse(cartsFromLS) : {}\n\n  if (currentState.user.id) {\n    window.localStorage.setItem(REDUX_CART_LS_KEY, JSON.stringify({\n      ...parsedCartsFromLS,\n      [currentState.user.id]: currentState.cart,\n    }))\n  }\n})\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,SAASC,iBAAiB,EAAEC,YAAY,QAAQ,aAAa;AAC7D,SAASC,YAAY,QAAQ,aAAa;AAC1C,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,eAAe,QAAQ,mBAAmB;AACnD,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,WAAW,QAAQ,oBAAoB;AAEhD,OAAO,MAAMC,KAAK,GAAGR,cAAc,CAAC;EAClCS,OAAO,EAAE;IACPC,IAAI,EAAEH,WAAW;IACjBI,IAAI,EAAEP,WAAW;IACjBQ,MAAM,EAAEN,aAAa;IACrBO,SAAS,EAAER;EACb,CAAC;EACDS,cAAc,EAAEX,YAAY;AAC9B,CAAC,CAAC;AAEFK,KAAK,CAACO,SAAS,CAAC,MAAM;EACpB,MAAMC,YAAY,GAAGR,KAAK,CAACS,QAAQ,EAAE;EAErCC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAClB,YAAY,EAAEmB,IAAI,CAACC,SAAS,CAACN,YAAY,CAAC,CAAC;AACzE,CAAC,CAAC;AAEFR,KAAK,CAACO,SAAS,CAAC,MAAM;EACpB,MAAMQ,WAAW,GAAGL,MAAM,CAACC,YAAY,CAACK,OAAO,CAACvB,iBAAiB,CAAC;EAClE,MAAMe,YAAY,GAAGR,KAAK,CAACS,QAAQ,EAAE;EAErC,MAAMQ,iBAAiB,GAAGF,WAAW,GAAGF,IAAI,CAACK,KAAK,CAACH,WAAW,CAAC,GAAG,CAAC,CAAC;EAEpE,IAAIP,YAAY,CAACN,IAAI,CAACiB,EAAE,EAAE;IACxBT,MAAM,CAACC,YAAY,CAACC,OAAO,CAACnB,iBAAiB,EAAEoB,IAAI,CAACC,SAAS,CAAC;MAC5D,GAAGG,iBAAiB;MACpB,CAACT,YAAY,CAACN,IAAI,CAACiB,EAAE,GAAGX,YAAY,CAACL;IACvC,CAAC,CAAC,CAAC;EACL;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}