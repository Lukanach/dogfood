{"ast":null,"code":"var _jsxFileName = \"/home/il/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Sberuni/dogfood2/src/Products/ProductItem/ProductItem.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { addCurrentProduct, deleteProduct, getAllCartProductsSelector } from '../../redux/slices/cartSlice';\nimport { addFavorite, getAllFavoriteProductsSelector, removeFavorite } from '../../redux/slices/favorite';\nimport productItemStyle from './productItem.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ProductItem(_ref) {\n  _s();\n  let {\n    title,\n    id,\n    photo,\n    price,\n    wight,\n    discount,\n    tags\n  } = _ref;\n  const cartProducts = useSelector(getAllCartProductsSelector);\n  const favorites = useSelector(getAllFavoriteProductsSelector);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const moveToCartHandler = () => {\n    dispatch(addCurrentProduct(id));\n  };\n  const removeFromCartHandler = () => {\n    dispatch(deleteProduct(id));\n  };\n  function detailProductHandler(event) {\n    if (!event.target.closest('button')) {\n      navigate(`/products/${id}`);\n    }\n  }\n  const isInCart = productListId => cartProducts.find(product => product.id === productListId);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    _jsxDEV(\"div\", {\n      className: productItemStyle.card,\n      onClick: detailProductHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: productItemStyle.tagsWrapper,\n        children: [discount ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: productItemStyle.discount,\n          children: [\"-\", discount, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this) : '', tags.includes('new') ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: productItemStyle.new,\n          children: \"\\u041D\\u043E\\u0432\\u0438\\u043D\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: productItemStyle.photo,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo,\n          alt: \"\\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: productItemStyle.price,\n        children: [price, ' ', \"\\u20BD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: productItemStyle.wight,\n        children: wight\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: productItemStyle.title,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [favorites.includes(id) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: productItemStyle.buttonBuy,\n          type: \"button\",\n          onClick: () => {\n            dispatch(removeFavorite(id));\n          },\n          children: \"\\u0418\\u0437 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), !favorites.includes(id) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: productItemStyle.buttonBuy,\n          type: \"button\",\n          onClick: () => {\n            dispatch(addFavorite(id));\n          },\n          children: \"\\u0412 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: productItemStyle.buttonBuy,\n          type: \"button\",\n          onClick: isInCart(id) ? removeFromCartHandler : moveToCartHandler,\n          children: isInCart(id) ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(ProductItem, \"YMx0mp1NeDhz9vKtSQwZpcgZqZQ=\", false, function () {\n  return [useSelector, useSelector, useNavigate, useDispatch];\n});\n_c = ProductItem;\nvar _c;\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["useDispatch","useSelector","useNavigate","addCurrentProduct","deleteProduct","getAllCartProductsSelector","addFavorite","getAllFavoriteProductsSelector","removeFavorite","productItemStyle","ProductItem","title","id","photo","price","wight","discount","tags","cartProducts","favorites","navigate","dispatch","moveToCartHandler","removeFromCartHandler","detailProductHandler","event","target","closest","isInCart","productListId","find","product","card","tagsWrapper","includes","new","buttonBuy"],"sources":["/home/il/Документы/Sberuni/dogfood2/src/Products/ProductItem/ProductItem.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useNavigate } from 'react-router-dom'\nimport {\n  addCurrentProduct,\n  deleteProduct,\n  getAllCartProductsSelector,\n} from '../../redux/slices/cartSlice'\nimport {\n  addFavorite,\n  getAllFavoriteProductsSelector,\n  removeFavorite,\n} from '../../redux/slices/favorite'\nimport productItemStyle from './productItem.module.css'\n\nexport function ProductItem({\n  title,\n  id,\n  photo,\n  price,\n  wight,\n  discount,\n  tags,\n}) {\n  const cartProducts = useSelector(getAllCartProductsSelector)\n  const favorites = useSelector(getAllFavoriteProductsSelector)\n  const navigate = useNavigate()\n\n  const dispatch = useDispatch()\n\n  const moveToCartHandler = () => {\n    dispatch(addCurrentProduct(id))\n  }\n  const removeFromCartHandler = () => {\n    dispatch(deleteProduct(id))\n  }\n\n  function detailProductHandler(event) {\n    if (\n      !event.target.closest('button')\n    ) {\n      navigate(`/products/${id}`)\n    }\n  }\n\n  const isInCart = (productListId) => cartProducts.find((product) => product.id === productListId)\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div className={productItemStyle.card} onClick={detailProductHandler}>\n      <div className={productItemStyle.tagsWrapper}>\n        {discount ? (\n          <div className={productItemStyle.discount}>\n            -\n            {discount}\n            %\n          </div>\n        ) : (\n          ''\n        )}\n        {tags.includes('new') ? (\n          <div className={productItemStyle.new}>Новинка</div>\n        ) : (\n          ''\n        )}\n      </div>\n      <div className={productItemStyle.photo}>\n        <img\n          src={photo}\n          alt=\"изображение товара\"\n        />\n      </div>\n      <div className={productItemStyle.price}>\n        {price}\n        {' '}\n        ₽\n      </div>\n      <div className={productItemStyle.wight}>{wight}</div>\n      <div className={productItemStyle.title}>{title}</div>\n\n      <div>\n        {favorites.includes(id) && (\n        <button\n          className={productItemStyle.buttonBuy}\n          type=\"button\"\n          onClick={() => { dispatch(removeFavorite(id)) }}\n        >\n          Из избранного\n        </button>\n        )}\n        {!favorites.includes(id) && (\n        <button\n          className={productItemStyle.buttonBuy}\n          type=\"button\"\n          onClick={() => { dispatch(addFavorite(id)) }}\n        >\n          В избранное\n        </button>\n        )}\n        <button\n          className={productItemStyle.buttonBuy}\n          type=\"button\"\n          onClick={isInCart(id) ? removeFromCartHandler : moveToCartHandler}\n        >\n          {isInCart(id) ? (\n            <p>В корзине</p>\n          ) : (\n            <p>Добавить</p>\n          )}\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}